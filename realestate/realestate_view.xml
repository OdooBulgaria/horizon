<?xml version="1.0"?>
<openerp>
    <data>

		<menuitem name="RealEstate" id="base.menu_realestate" sequence="12"/>
    	
		<!-- Acquisitions -->

    	<record model="ir.actions.act_window" id="crm_realestate_acquisition_leads_all">
	        <field name="name">Acquisition Leads</field>
	        <field name="res_model">crm.lead</field>
	        <field name="domain">[('type_of_lead','=','acquisition'), '|', ('type','=','lead'), ('type','=',False)]</field>
	        <field name="view_mode">tree,form</field>
	        <field name="view_id" ref="crm.crm_case_tree_view_leads"/>
        	<field name="search_view_id" ref="crm.view_crm_case_leads_filter"/>
        	<field name="context">{
	                'default_type':'lead',
	                'type_of_lead':'acquisition',
	                'stage_type':'lead',
	                'needaction_menu_ref': 'realestate.menu_realestate_acquisition_leads',
	                'search_default_unassigned':0,
	            }
        	</field> 
        	<field name="help" type="html">
	            <p>
	                Use leads if you need a qualification step before creating an
	                opportunity or a partner. It can be a business card you received,
	                a contact form filled in your website, or a file of unqualified
	                prospects you import, etc.
	            </p><p>
	                Once qualified, the lead can be converted into a business
	                opportunity and/or a new partner in your address book.
	            </p>
	        </field>
    	</record>

        <record model="ir.ui.view" id="view_lead_form">
		    <field name="name">realestate.lead.form.inherit</field>
		    <field name="model">crm.lead</field>
		    <field name="inherit_id" ref="crm.crm_case_form_view_leads"/>
		    <field name="arch" type="xml">
			    <notebook position="inside">
	        	</notebook>
		    </field>
        </record>
        
        <record model="ir.actions.act_window.view" id="crm_realestate_acquisition_leads_all_tree">
		    <field name="sequence" eval="1" />
		    <field name="view_mode">tree</field>
		    <field name="view_id" ref="crm.crm_case_tree_view_leads"/>
		    <field name="act_window_id" ref="crm_realestate_acquisition_leads_all"/>
		</record>
        
        <record model="ir.actions.act_window.view" id="crm_realestate_acquisition_leads_all_form">
		    <field name="sequence" eval="2" />
		    <field name="view_mode">form</field>
		    <field name="view_id" ref="view_lead_form"/>
		    <field name="act_window_id" ref="crm_realestate_acquisition_leads_all"/>
		</record>
		
		<record model="ir.actions.act_window" id="crm_realestate_acquisition_opp_all">
	        <field name="name">Opportunities</field>
	        <field name="res_model">crm.lead</field>
	        <field name="view_mode">kanban,tree,graph,form,calendar</field>
	        <field name="domain">[('type_of_lead','=','acquisition'), ('type','=','opportunity')]</field>
	        <field name="context">{
	                'stage_type': 'opportunity',
	                'type_of_lead':'acquisition',
	                'default_type': 'opportunity',
	                'default_user_id': uid
	            }
	        </field>
	        <field name="view_id" eval="False"/>
	        <field name="search_view_id" ref="crm.view_crm_case_opportunities_filter"/>
	        <field name="help" type="html">
	            <p>
	                Odoo helps you keep track of your acquisition pipeline to follow
	                up potential acquisition and better forecast your future cash flows.
	            </p><p>
	                You will be able to plan meetings and phone calls from
	                opportunities, convert them into quotations, attach related
	                documents, track all discussions, and much more.
	            </p>
	        </field>
	    </record>
	    
	    <record model="ir.actions.act_window.view" id="action_realestate_tag_kanban_view_oppor11">
	        <field name="sequence" eval="0"/>
	        <field name="view_mode">kanban</field>
	        <field name="view_id" ref="crm.crm_case_kanban_view_leads"/>
	        <field name="act_window_id" ref="crm_realestate_acquisition_opp_all"/>
	    </record>
	
	    <record model="ir.actions.act_window.view" id="action_realestate_tag_tree_view_oppor11">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="crm.crm_case_tree_view_oppor"/>
	        <field name="act_window_id" ref="crm_realestate_acquisition_opp_all"/>
	    </record>
	
	    <record model="ir.actions.act_window.view" id="action_realestate_tag_form_view_oppor11">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="crm.crm_case_form_view_oppor"/>
	        <field name="act_window_id" ref="crm_realestate_acquisition_opp_all"/>
	    </record>

		<menuitem name="Acquisition" id="menu_realestate_acquisition" parent="base.menu_realestate" sequence="5"/>
    	<menuitem name="Leads" id="menu_realestate_acquisition_leads" parent="menu_realestate_acquisition" sequence="5" action="crm_realestate_acquisition_leads_all"/>
        <menuitem name="Opportunities" id="menu_realestate_acquisition_opp" parent="menu_realestate_acquisition" sequence="5" action="crm_realestate_acquisition_opp_all"/>
        
        <!-- Sales -->
        
        <record model="ir.actions.act_window" id="crm_realestate_sales_leads_all">
	        <field name="name">Sales Leads</field>
	        <field name="res_model">crm.lead</field>
	        <field name="domain">[('type_of_lead','=','sale'), '|', ('type','=','lead'), ('type','=',False)]</field>
	        <field name="view_mode">tree,form</field>
	        <field name="view_id" ref="crm.crm_case_tree_view_leads"/>
        	<field name="search_view_id" ref="crm.view_crm_case_leads_filter"/>
        	<field name="context">{
	                'default_type':'lead',
	                'type_of_lead':'sale',
	                'stage_type':'lead',
	                'needaction_menu_ref': 'realestate.menu_realestate_sale_leads',
	                'search_default_unassigned':0,
	            }
        	</field> 
        	<field name="help" type="html">
	            <p>
	                Use leads if you need a qualification step before creating an
	                opportunity or a partner. It can be a business card you received,
	                a contact form filled in your website, or a file of unqualified
	                prospects you import, etc.
	            </p><p>
	                Once qualified, the lead can be converted into a business
	                opportunity and/or a new partner in your address book.
	            </p>
	        </field>
    	</record>
        
        <record model="ir.actions.act_window.view" id="crm_realestate_sales_leads_all_tree">
		    <field name="sequence" eval="1" />
		    <field name="view_mode">tree</field>
		    <field name="view_id" ref="crm.crm_case_tree_view_leads"/>
		    <field name="act_window_id" ref="crm_realestate_sales_leads_all"/>
		</record>
        
        <record model="ir.actions.act_window.view" id="crm_realestate_sales_leads_all_form">
		    <field name="sequence" eval="2" />
		    <field name="view_mode">form</field>
		    <field name="view_id" ref="view_lead_form"/>
		    <field name="act_window_id" ref="crm_realestate_sales_leads_all"/>
		</record>
        
        <record model="ir.actions.act_window" id="crm_realestate_sales_opp_all">
	        <field name="name">Opportunities</field>
	        <field name="res_model">crm.lead</field>
	        <field name="view_mode">kanban,tree,graph,form,calendar</field>
	        <field name="domain">[('type_of_lead','=','sale'), ('type','=','opportunity')]</field>
	        <field name="context">{
	                'stage_type': 'opportunity',
	                'type_of_lead':'sale',
	                'default_type': 'opportunity',
	                'default_user_id': uid
	            }
	        </field>
	        <field name="view_id" eval="False"/>
	        <field name="search_view_id" ref="crm.view_crm_case_opportunities_filter"/>
	        <field name="help" type="html">
	            <p>
	                Odoo helps you keep track of your sale pipeline to follow
	                up potential sales and better forecast your future cash flows.
	            </p><p>
	                You will be able to plan meetings and phone calls from
	                opportunities, convert them into quotations, attach related
	                documents, track all discussions, and much more.
	            </p>
	        </field>
	    </record>
	    
	    <record model="ir.actions.act_window.view" id="action_realestate_tag_kanban_view_oppor11">
	        <field name="sequence" eval="0"/>
	        <field name="view_mode">kanban</field>
	        <field name="view_id" ref="crm.crm_case_kanban_view_leads"/>
	        <field name="act_window_id" ref="crm_realestate_sales_opp_all"/>
	    </record>
	
	    <record model="ir.actions.act_window.view" id="action_realestate_tag_tree_view_oppor11">
	        <field name="sequence" eval="1"/>
	        <field name="view_mode">tree</field>
	        <field name="view_id" ref="crm.crm_case_tree_view_oppor"/>
	        <field name="act_window_id" ref="crm_realestate_sales_opp_all"/>
	    </record>

	    <record model="ir.actions.act_window.view" id="action_realestate_tag_form_view_oppor11">
	        <field name="sequence" eval="2"/>
	        <field name="view_mode">form</field>
	        <field name="view_id" ref="crm.crm_case_form_view_oppor"/>
	        <field name="act_window_id" ref="crm_realestate_sales_opp_all"/>
	    </record>
        
        <menuitem name="Sales" id="menu_realestate_sales" parent="base.menu_realestate" sequence="10"/>
    	<menuitem name="Leads" id="menu_realestate_sales_leads" parent="menu_realestate_sales" sequence="5" action="crm_realestate_sales_leads_all"/>
    	<menuitem name="Opportunities" id="menu_realestate_sales_opp" parent="menu_realestate_sales" sequence="5" action="crm_realestate_sales_opp_all"/>
    	
    	<!-- Real estate assets -->
    	
    	<record id="view_realestate_land_form" model="ir.ui.view">
            <field name="name">realestate.building_land.form</field>
            <field name="model">realestate.building_land</field>
            <field eval="1" name="priority"/>
            <field name="arch" type="xml">
                <form string="Building Lands">
	                <sheet>
					   <div class="oe_title" style="width : 100%">
	                       <label for="name" class="oe_edit_only"/>
	                       <h1><field name="name" default_focus="1" placeholder="Short description..."/></h1>
	                       <field name="description" placeholder="More details about the building land..."/>
	                   </div>
               	       <group>
               	          <group>
	               	        <label for="street" string="Address"/>
	                        <div>
	                            <field name="street" placeholder="Street..."  />
	                            <field name="street2"  />
	                            <div class="address_format">
	                                <field name="city" placeholder="City" style="width: 40%%" />
	                                <field name="state_id" class="oe_no_button" placeholder="State" style="width: 37%%" options='{"no_open": True}' on_change="onchange_state(state_id)" />
	                                <field name="zip" placeholder="ZIP" style="width: 20%%" />
	                            </div>
	                            <field name="country_id" placeholder="Country" class="oe_no_button" options='{"no_open": True, "no_create": True}' />
	                        </div>
	                      </group>
	                      <group>
	                        <label for="land_division" string="Land Information"/>
	                        <div>
		                      	<field name="land_division" placeholder="Land Division" />
		                      	<field name="land_size" placeholder="Land Size (in m2)" />
	                            <field name="public_price" class="oe_inline" widget='monetary' placeholder="Public Price"/>
	                            <field name="estimated_price" class="oe_inline" widget='monetary' placeholder="Estimated Price"/>   
                            </div> 
	                      </group>
                        </group> 
	                </sheet>
             	</form>
             </field>
        </record>
    	
    	<record model="ir.actions.act_window" id="crm_realestate_lands_all">
	        <field name="name">Building Lands</field>
	        <field name="res_model">realestate.building_land</field>
	        <field name="domain">[]</field>
	        <field name="view_mode">tree,form</field>
	        <!-- <field name="view_id" ref="crm.crm_case_tree_view_leads"/>
        	<field name="search_view_id" ref="crm.view_crm_case_leads_filter"/>
        	<field name="context">{
	                'default_type':'lead',
	                'type_of_lead':'acquisition',
	                'stage_type':'lead',
	                'needaction_menu_ref': 'realestate.menu_realestate_acquisition_leads',
	                'search_default_unassigned':0,
	            }
        	</field>  -->
        	<field name="help" type="html">
	            <p>
	                Use building land if you need to refer to a building land.
	                It is a composite pattern that allows hierarchies and splits
	                of building lands.
	            </p>
	        </field>
    	</record>
    	
    	<menuitem name="Real Estate Assets" id="menu_realestate_assets" parent="base.menu_realestate" sequence="15"/>
    	<menuitem name="Building Land" id="menu_realestate_lands" parent="menu_realestate_assets" sequence="5" action="crm_realestate_lands_all"/>
    	
    </data>
</openerp>